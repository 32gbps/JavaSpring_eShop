<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru">
    <head>
        <meta charset="utf-8" />
        <title th:text="title">Панель администратора</title>
        <link rel="stylesheet" th:href="@{/css/styles.css}" />
        <script th:src="@{/js/script.js}"></script>
    </head>
    <body>
    <header th:insert="fragments/header::header" class="header"></header>
        <main>
            <div class="container">
                <!-- Форма -->
                <div class="controlElements">
                    <form th:action="${clothes.id} > 0 ? @{/clothes/edit} : @{/clothes/add}" th:object="${clothes}" method="post">
                            <input type="hidden" th:field="*{id}" />
                        <!-- Название -->
                        <div class="form-group">
                            <label>Название</label>
                            <input name="name" type="text" th:value="${clothes != null ? clothes.name : ''}">
                        </div>
                        <!-- Цвет -->
                        <div class="form-group">
                            <label>Цвет</label>
                            <input name="color" type="text" th:value="${clothes != null ? clothes.color : ''}">
                        </div>
                        <!-- Размер -->
                        <div class="form-group">
                            <label>Размер</label>
                            <select name="size">
                                <option value=""> -- Выберите размер -- </option>
                                <option value="XS" th:selected="${clothes != null && clothes.size == 'XS'}">XS</option>
                                <option value="S" th:selected="${clothes != null && clothes.size == 'S'}">S</option>
                                <option value="M" th:selected="${clothes != null && clothes.size == 'M'}">M</option>
                                <option value="L" th:selected="${clothes != null && clothes.size == 'L'}">L</option>
                                <option value="XL" th:selected="${clothes != null && clothes.size == 'XL'}">XL</option>
                                <option value="XXL" th:selected="${clothes != null && clothes.size == 'XXL'}">XXL</option>
                            </select>
                        </div>
                        <!-- Тип -->
                        <div class="form-group">
                            <label>Тип</label>
                            <select name="type">
                                <option value=""> -- Выберите тип -- </option>
                                <option th:each="type : ${T(homework.javaspring_model.Models.ClothesType).values()}"
                                        th:value="${type}"
                                        th:text="${type.displayName}"
                                        th:selected="${clothes != null && clothes.type == type}">
                                </option>
                            </select>
                        </div>
                        <!-- Фирма -->
                        <div class="form-group">
                            <label>Фирма</label>
                            <input name="brand" type="text" th:value="${clothes != null ? clothes.brand : ''}">
                        </div>
                        <!-- Цена -->
                        <div class="form-group">
                            <label>Цена</label>
                            <input name="price" type="number" min="0" step="0.01" th:value="${clothes != null ? clothes.price : ''}">
                        </div>
                        <div class="form-group">
                            <button type="submit" th:text="${clothes != null && clothes.id != null ? 'Обновить' : 'Добавить'}">Добавить</button>
                        </div>
                    </form>
                </div>
                <!-- Список -->
                <div class="content">
                    <table>
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Название</th>
                            <th>Тип</th>
                            <th>Размер</th>
                            <th>Цвет</th>
                            <th>Фирма</th>
                            <th>Цена</th>
                            <th>Действие</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="item : ${clothesList}">
                            <td th:text="${item.id}"></td>
                            <td th:text="${item.name}"></td>
                            <td th:text="${item.type}"></td>
                            <td th:text="${item.size}"></td>
                            <td th:text="${item.color}"></td>
                            <td th:text="${item.brand}"></td>
                            <td th:text="'$' + ${#numbers.formatDecimal(item.price, 1, 2)}"></td>
                            <td>
                                <a th:href="@{/clothes/edit/{id}(id=${item.id})}"
                                   class="btn btn-sm btn-warning">Edit</a>
                                <a th:href="@{/clothes/delete/{id}(id=${item.id})}"
                                   class="btn btn-sm btn-warning">Delete</a>
                            </td>
                        </tr>
                    </tbody>
                </table>
                </div>
            </div>
        </main>
        <footer>
        </footer>
    </body>
</html>
